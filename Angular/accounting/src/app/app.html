<mat-sidenav-container class="sidenav-container">

  <mat-sidenav #drawer="matSidenav" fixedInViewport [attr.role]="(isHandset | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset | async) ? 'over' : 'side'" [opened]="(isHandset | async) === false && logedIn()">

    <mat-toolbar style="justify-content: center;">{{userSrvice.selectedCompany().company_name |
      titlecase}}</mat-toolbar>

    <div style="height: calc(100% - 65px);">

      <!-- <mat-toolbar>Menu</mat-toolbar> -->
      <!-- <mat-toolbar> {{userSrvice.selectedCompany().company_name | titlecase}}</mat-toolbar> -->
      <mat-nav-list style="text-align: left;">
        <!-- <button matButton="" (click)="selectCompany()">Change Company</button> -->
        <div style="height: 610px; overflow-y: auto;">
          <!-- <a mat-list-item routerLink="das/" [class.activeUrl]="isActiveUrl('/das')" (click)="SidenavClose()"
            style="margin-bottom: 5px; padding-left: 70px;">
            <span [class.activeUrlText]="isActiveUrl('/das')">Sashboard</span></a>         -->
          <mat-accordion >            
            <mat-expansion-panel style="margin-bottom: 1px; border-radius: 0px;">
              <mat-expansion-panel-header style="height: 40px;">
                <mat-panel-title> Company </mat-panel-title>
              </mat-expansion-panel-header>
              <button matButton="" routerLink="company/" [class.activeUrl]="isActiveUrl('/company')"
                (click)="SidenavClose()" style="margin-left: -40px; width: 260px; margin-bottom: 3px;">
                <div style="width: 180px; margin-left: 70px; text-align: left; "
                  [class.activeUrlText]="isActiveUrl('/company')">Add Comapny</div>
              </button>
              <button matButton="" (click)="selectCompany()"
                style="margin-left: -40px; width: 260px; margin-bottom: 3px;">
                <div style="width: 180px; margin-left: 70px; text-align: left; ">Set Default Company</div>
              </button>
            </mat-expansion-panel>
            <mat-expansion-panel style="margin-bottom: 1px; border-radius: 0px;">
              <mat-expansion-panel-header style="height: 40px;">
                <mat-panel-title> Master </mat-panel-title>
              </mat-expansion-panel-header>
              <button matButton="" routerLink="create_client/" [class.activeUrl]="isActiveUrl('/create_client')"
                (click)="SidenavClose()" style="margin-left: -50px; width: 290px; padding-left: 70px;">
                <div style="width: 180px; margin-left: 70px; text-align: left; "
                  [class.activeUrlText]="isActiveUrl('/create_client')">Add Account</div>
              </button>
              <button matButton="" routerLink="create_group/" [class.activeUrl]="isActiveUrl('/create_group')"
                (click)="SidenavClose()" style="margin-left: -50px; width: 290px; padding-left: 70px;">
                <div style="width: 180px; margin-left: 70px; text-align: left; "
                  [class.activeUrlText]="isActiveUrl('/create_group')">Add Group</div>
              </button>
            </mat-expansion-panel>
            <mat-expansion-panel style="margin-bottom: 1px; border-radius: 0px;">
              <mat-expansion-panel-header style="height: 40px;">
                <mat-panel-title> Transactions </mat-panel-title>
              </mat-expansion-panel-header>
              <mat-accordion>
                <mat-expansion-panel style="width: 290px; margin-left: -25px; border-radius: 0px;">
                  <mat-expansion-panel-header style="height: 40px;">
                    <mat-panel-title style="margin-left: 20px;">Add</mat-panel-title>
                  </mat-expansion-panel-header>
                  <button matButton="" routerLink="sale/" [class.activeUrl]="isActiveUrl('/sale')"
                    (click)="SidenavClose()" style="margin-bottom: 3px; margin-left: -40px;">
                    <div style="width: 160px; text-align: left; margin-left: 70px;"
                      [class.activeUrlText]="isActiveUrl('/sale')">Sale</div>
                  </button>

                  <button matButton="" routerLink="purchase/" [class.activeUrl]="isActiveUrl('/purchase')"
                    (click)="SidenavClose()" style="margin-bottom: 3px; margin-left: -40px;">
                    <div style="width: 160px; text-align: left; margin-left: 70px;"
                      [class.activeUrlText]="isActiveUrl('/purchase')">Purchase</div>
                  </button>

                  <button matButton="" routerLink="payment/" [class.activeUrl]="isActiveUrl('/payment')"
                    (click)="SidenavClose()" style="margin-bottom: 3px; margin-left: -40px;">
                    <div style="width: 160px; text-align: left; margin-left: 70px;"
                      [class.activeUrlText]="isActiveUrl('/payment')">Payment</div>
                  </button>

                  <button matButton="" routerLink="receipt/" [class.activeUrl]="isActiveUrl('/receipt')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/recipt')">Receipt</div>
                  </button>

                  <button matButton="" routerLink="journal/" [class.activeUrl]="isActiveUrl('/journal')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/journal')">Journal</div>
                  </button>

                  <button matButton="" routerLink="contra/" [class.activeUrl]="isActiveUrl('/contra')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/contra')">Contra</div>
                  </button>
                </mat-expansion-panel>

                <mat-expansion-panel style="width: 290px; margin-left: -25px; border-radius: 0px;">
                  <mat-expansion-panel-header style="height: 40px;">
                    <mat-panel-title style="margin-left: 20px;">Edit</mat-panel-title>
                  </mat-expansion-panel-header>
                  <button matButton="" (click)="selectCompany()" style=" margin-bottom: 3px;">
                    <div style="width: 150px;">Sales</div>
                  </button>
                  <button matButton="" (click)="selectCompany()" style="margin-bottom: 3px;">
                    <div style="width: 150px;">Purchase</div>
                  </button>
                  <button matButton="" routerLink="payment/" [class.activeUrl]="isActiveUrl('/payment')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px; " [class.activeUrlText]="isActiveUrl('/payment')">Payment</div>
                  </button>
                  <button matButton="" routerLink="edit-receipt/" [class.activeUrl]="isActiveUrl('/edit-receipt')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/edit-receipt')">Edit-Recipt</div>
                  </button>

                  <button matButton="" routerLink="journal/" [class.activeUrl]="isActiveUrl('/journal')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/journal')">Journal</div>
                  </button>
                  <button matButton="" routerLink="contra/" [class.activeUrl]="isActiveUrl('/contra')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/contra')">Contra</div>
                  </button>
                </mat-expansion-panel>

                <mat-expansion-panel style="width: 290px; margin-left: -25px; border-radius: 0px;">
                  <mat-expansion-panel-header style="height: 40px;">
                    <mat-panel-title style="margin-left: 20px;">List</mat-panel-title>
                  </mat-expansion-panel-header>
                  <button matButton="" (click)="selectCompany()" style=" margin-bottom: 3px;">
                    <div style="width: 150px;">Sales</div>
                  </button>
                  <button matButton="" (click)="selectCompany()" style="margin-bottom: 3px;">
                    <div style="width: 150px;">Purchase</div>
                  </button>
                  <button matButton="" routerLink="payment/" [class.activeUrl]="isActiveUrl('/payment')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px; " [class.activeUrlText]="isActiveUrl('/payment')">Payment</div>
                  </button>
                  <button matButton="" routerLink="recipt/" [class.activeUrl]="isActiveUrl('/recipt')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/recipt')">Recipt</div>
                  </button>

                  <button matButton="" routerLink="journal/" [class.activeUrl]="isActiveUrl('/journal')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/journal')">Journal</div>
                  </button>
                  <button matButton="" routerLink="contra/" [class.activeUrl]="isActiveUrl('/contra')"
                    (click)="SidenavClose()" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/contra')">Contra</div>
                  </button>
                  <button matButton="" [class.activeUrl]="isActiveUrl('/contra1')" style="margin-bottom: 3px;">
                    <div style="width: 150px;" [class.activeUrlText]="isActiveUrl('/contra')">side2</div>
                  </button>
                </mat-expansion-panel>
              </mat-accordion>
            </mat-expansion-panel>
            <mat-expansion-panel style="margin-bottom: 1px; border-radius: 0px;">
              <mat-expansion-panel-header style="height: 40px;">
                <mat-panel-title> Dispaly </mat-panel-title>
              </mat-expansion-panel-header>
              <mat-accordion>
                <mat-expansion-panel style="width: 290px; margin-left: -25px; border-radius: 0px;">
                  <mat-expansion-panel-header style="height: 40px;">
                    <mat-panel-title style="margin-left: 20px;">Account Books</mat-panel-title>
                  </mat-expansion-panel-header>

                  <button matButton="" [class.activeUrl]="isActiveUrl('/account-wise')" (click)="ledgerDialog()"
                    style="margin-bottom: 3px; margin-left: -40px;">
                    <div style="width: 160px; text-align: left; margin-left: 70px;"
                      [class.activeUrlText]="isActiveUrl('/account-wise')">Account-Wise</div>
                  </button>
                </mat-expansion-panel>                
              </mat-accordion>
            </mat-expansion-panel>
          </mat-accordion>

          <!-- Mataccourden with dynamic menu -->

          <!-- <mat-accordion>
            @for(item of menu; track item.id){
              <mat-expansion-panel>
                <mat-expansion-panel-header>{{item.title}}</mat-expansion-panel-header>
                <p>{{item.content}}</p>
                 <mat-accordion>
                @for(childitem of item.children; track childitem.id){
                  <mat-expansion-panel>
                    <mat-expansion-panel-header>{{childitem.title}}</mat-expansion-panel-header>
                    <p>{{childitem.content}}</p>
                  </mat-expansion-panel>
                }
                </mat-accordion> 
              </mat-expansion-panel>
                          
            }
          </mat-accordion> -->
        </div>
        <div style="width: 100%; bottom: 0; text-align: center; position: absolute; z-index: 1;">
          <mat-form-field appearance="outline" style="width: auto; margin-top: 10px;">
            <mat-label>selected theme</mat-label>
            <mat-select [(value)]="selectedTheme" (selectionChange)="onThemeChange(selectedTheme)">
              <mat-option value="system"><mat-icon>brightness_auto</mat-icon>system</mat-option>
              <mat-option value="light"><mat-icon>light_mode</mat-icon>light</mat-option>
              <mat-option value="dark"><mat-icon>dark_mode</mat-icon>dark</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </mat-nav-list>
    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar>
      @if (logedIn() && sideNav()) {
      <button type="button" style="font-size: 16px;" aria-label="Toggle sidenav" matIconButton
        (click)="drawer.toggle()">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      }
      <span class="spacer"></span>

      @if(!logedIn()){
      <a type="button" style="font-size: 16px;" matButton routerLink="userRegistration">signup</a>
      <a type="button" style="font-size: 16px;" aria-label="Toggle sidenav" matButton="" (click)="openDialog()">login
        <mat-icon aria-label="Side nav toggle icon">login</mat-icon>
      </a>
      }@else {
      <button type="button" style="font-size: 16px;" aria-label="Toggle sidenav" matButton=""
        (click)="logoutProcess()">logout
        <mat-icon aria-label="Side nav toggle icon">logout</mat-icon>
      </button>
      }
    </mat-toolbar>
    <!-- <div style="height: calc(100% - 120px); overflow-y: auto;"> -->
    <router-outlet />
    <!-- </div> -->
  </mat-sidenav-content>
</mat-sidenav-container>